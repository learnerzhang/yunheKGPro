var h=(S,f,o)=>new Promise((p,d)=>{var g=l=>{try{i(o.next(l))}catch(u){d(u)}},v=l=>{try{i(o.throw(l))}catch(u){d(u)}},i=l=>l.done?p(l.value):Promise.resolve(l.value).then(g,v);i((o=o.apply(S,f)).next())});import{u as w,_ as E}from"./useForm-DGjywljk.js";import"./BasicForm.vue_vue_type_style_index_0_lang-DeNCmJ5N.js";import{an as F}from"./entry/index-CMbP4qrD-1735889696146.js";import{a as L,B as T}from"./index-cSGZvoEm.js";import{f as N}from"./rule-tToMeY1Z.js";import{d as C,f as y,c as $,u as t,Z as c,a4 as I,a5 as b,k as B,$ as m,G as M,_ as P,F as z,a7 as D,a0 as G,a3 as V,a9 as q}from"./vue-7EN2lk9e.js";import{a9 as A,ac as R}from"./antd-DuSlDOy9.js";const H={class:"text-center"},j={class:"p-4 mt-8"},O={key:0},U=["innerHTML"],te=C({__name:"RuleResultModal",setup(S){const f=y(!0);let o=y([]),p=null;const d=$(()=>(t(f),"规则分析")),[g,{resetFields:v,validate:i,appendSchemaByField:l,removeSchemaByField:u}]=w({layout:"vertical",rowProps:{gutter:20},baseColProps:{span:24},schemas:[],showActionButtonGroup:!1}),n=y([]),[k,{setModalProps:_}]=L(s=>h(this,null,function*(){var a,r;o.value=[],v(),_({confirmLoading:!1}),p=(a=s==null?void 0:s.record)==null?void 0:a.id,n.value.length&&n.value.map(e=>{u(e.id.toString())}),n.value=((r=s==null?void 0:s.record)==null?void 0:r.conditionInfos)||[],n.value.map(e=>{e.valueType=="boolean"?l({label:e.zhName,field:e.id.toString(),component:"Select",required:!0,colProps:{span:n.value.length==1?24:12},componentProps:{options:[{label:"是",value:1},{label:"否",value:0}],placeholder:"请选择"}}):l({label:e.zhName,field:e.id.toString(),component:"Input",required:!0,colProps:{span:n.value.length==1?24:12},componentProps:{placeholder:e.valueType=="int"?"请输入数值":"请输入字符串"}})})}));function x(){return h(this,null,function*(){try{let s=yield i();_({confirmLoading:!0}),o.value=[];const a=Object.keys(s).map(e=>({id:e,value:s[e]})),r=yield N({id:p,flag:1,conditionInfos:a});o.value=r||[]}finally{_({confirmLoading:!1})}})}return(s,a)=>(c(),I(t(T),q(s.$attrs,{onRegister:t(k),title:d.value,width:"800px",footer:null}),{default:b(()=>[B(t(E),{onRegister:t(g)},null,8,["onRegister"]),m("div",H,[B(t(F),{type:"primary",onClick:x,class:"w-32 mt-4"},{default:b(()=>a[0]||(a[0]=[M("查询分析结果")])),_:1})]),m("div",j,[B(t(A),null,{default:b(()=>a[1]||(a[1]=[M("规则分析结果")])),_:1}),t(o).length?(c(),P("div",O,[(c(!0),P(z,null,D(t(o),(r,e)=>(c(),P("div",{class:G(["mb-2 flex items-baseline text-base",{"text-center":t(o).length==1}]),key:e},[m("div",null,V(t(o).length==1?"":`结果${e+1}：`),1),m("div",{innerHTML:r,class:"font-bold flex-1"},null,8,U)],2))),128))])):(c(),I(t(R),{key:1,image:t(R).PRESENTED_IMAGE_SIMPLE,description:"暂无规则分析结果"},null,8,["image"]))])]),_:1},16,["onRegister","title"]))}});export{te as _};
