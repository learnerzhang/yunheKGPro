var B=Object.defineProperty;var b=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var x=(o,t,e)=>t in o?B(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))R.call(t,e)&&x(o,e,t[e]);if(b)for(var e of b(t))S.call(t,e)&&x(o,e,t[e]);return o};var _=(o,t,e)=>new Promise((p,s)=>{var c=a=>{try{n(e.next(a))}catch(l){s(l)}},m=a=>{try{n(e.throw(a))}catch(l){s(l)}},n=a=>a.done?p(a.value):Promise.resolve(a.value).then(c,m);n((e=e.apply(o,t)).next())});import{u as F,_ as N}from"./useTable-BldcMn6n.js";import"./TableImg.vue_vue_type_style_index_0_lang-2oS39uGR.js";import{_ as V}from"./BasicForm.vue_vue_type_style_index_0_lang-qpF-DMKT.js";import{P as $}from"./index-C7IcOeO2.js";import{an as I}from"./entry/index-B-McypeI-1739345778478.js";import{a as M,d as q}from"./task-BVRZM_E3.js";import{u as v}from"./index-dXxTZxnK.js";import{_ as D}from"./CreateUpdateModal.vue_vue_type_script_setup_true_lang-BFLMggsk.js";import{c as H}from"./import.data-89ELN9mQ.js";import{d as U,Y as E,f as G,u as i,Z as C,a4 as k,a5 as h,$ as y,k as g,G as K,a8 as L}from"./vue-7EN2lk9e.js";import"./useForm-Hn6EoxrV.js";import"./FormBorder-BUeDstEP.js";import"./antd-DuSlDOy9.js";import"./sortable.esm-BEDva30o.js";import"./onMountedOrActivated-8STL9zTa.js";import"./useWindowSizeFn-B30U4ulB.js";import"./index-BlCAdtVI.js";import"./useSortable-BZ0xEDrO.js";import"./download-CCBYjG8C.js";import"./index-Czo0YvQK.js";import"./copyTextToClipboard-CeRVlT3D.js";import"./useContentViewHeight-B3Yt78Z4.js";import"./index-CPBX9QO_.js";import"./file-CcanAzse.js";const W={class:"p-4 flex flex-col"},Y={class:"bg-light-50 p-4 mb-4 h-16"},ge=U({name:"KgProductImportPageComponent",__name:"index",setup(o){const t=E();let e=G({taskType:3});const[p,{openModal:s}]=v(),[c,{reload:m}]=F({title:"图谱列表",api:M,columns:H,useSearchForm:!1,showTableSetting:!0,bordered:!0,showIndexColumn:!0,beforeFetch:r=>f(f({},r),i(e)),fetchSetting:{listField:"data"},actionColumn:{width:150,title:"操作",dataIndex:"action",fixed:"right"}});function n(){s(!0,{isUpdate:!1})}function a(r){s(!0,{record:r,isUpdate:!0})}function l(r){return _(this,null,function*(){yield q({id:r.id}),m()})}function T(r){return _(this,null,function*(){t.push({path:"/graph-manage/product/import-process",query:{id:r.id}})})}function P(){m()}return(r,d)=>(C(),k(i($),{dense:"",contentFullHeight:"",fixedHeight:""},{default:h(()=>[y("div",W,[y("div",Y,[g(i(I),{type:"primary",onClick:n},{default:h(()=>d[0]||(d[0]=[K(" 新增图谱 ")])),_:1})]),g(i(N),{class:"flex-1",onRegister:i(c)},{bodyCell:h(({column:w,record:u})=>[w.key==="action"?(C(),k(i(V),{key:0,actions:[{label:"详情",onClick:T.bind(null,u)},{label:"编辑",onClick:a.bind(null,u)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:l.bind(null,u)}}]},null,8,["actions"])):L("",!0)]),_:1},8,["onRegister"]),g(D,{onRegister:i(p),onSuccess:P},null,8,["onRegister"])])]),_:1}))}});export{ge as default};
