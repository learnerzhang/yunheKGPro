var R=Object.defineProperty;var b=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var w=(r,a,t)=>a in r?R(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t,g=(r,a)=>{for(var t in a||(a={}))$.call(a,t)&&w(r,t,a[t]);if(b)for(var t of b(a))D.call(a,t)&&w(r,t,a[t]);return r};var y=(r,a,t)=>new Promise((f,l)=>{var _=i=>{try{u(t.next(i))}catch(p){l(p)}},d=i=>{try{u(t.throw(i))}catch(p){l(p)}},u=i=>i.done?f(i.value):Promise.resolve(i.value).then(_,d);u((t=t.apply(r,a)).next())});import{u as N,_ as U}from"./useTable-CZJo2ynb.js";import"./TableImg.vue_vue_type_style_index_0_lang-J3ZARUD7.js";import{_ as V}from"./BasicForm.vue_vue_type_style_index_0_lang-Cztz7x8L.js";import{an as C,ao as Y}from"./entry/index-BcL7-Cog-1735891856356.js";import{F as k}from"./FormBorder-EsrxF1hX.js";import{g as H,f as K}from"./tag-CpTiyvYq.js";import{P as q}from"./index-Dc6KXk-k.js";import{u as A}from"./index-CfGFDaHn.js";import{c as E,_ as G}from"./CreateUpdateModal.vue_vue_type_script_setup_true_lang-D4Ipp3eQ.js";import{_ as L}from"./FolderTree.vue_vue_type_style_index_0_lang-DiLmMFq4.js";import{ae as O,af as v,R as W,A as Z,S as j}from"./antd-DuSlDOy9.js";import{d as z,f as x,u as e,Z as S,a4 as F,a5 as n,k as o,$ as I,G as T,l as J,a8 as Q}from"./vue-7EN2lk9e.js";import"./useForm-D6frmkhD.js";import"./sortable.esm-BEDva30o.js";import"./onMountedOrActivated-8STL9zTa.js";import"./useWindowSizeFn-BG4Rc7k1.js";import"./index-MTdn1QqL.js";import"./useSortable-DorIa95B.js";import"./download-CffIuy2i.js";import"./index-Csyp8HpR.js";import"./copyTextToClipboard-CeRVlT3D.js";import"./useContentViewHeight-DJ0myx8Z.js";import"./index-BX9C0oMS.js";const X={class:"w-3/4 xl:w-4/5 p-4"},ee={class:"bg-light-50 p-4 mb-4 h-16"},Se=z({name:"TagManageKgComponent",__name:"index",setup(r){const a=x([]),[t,{openModal:f}]=A();let l=x({keyword:"",tabtag_id:void 0,start_time:"",end_time:""});const[_,{reload:d}]=N({title:"知识标签列表",api:H,rowKey:"id",columns:E,beforeFetch:s=>g(g({},s),e(l)),fetchSetting:{listField:"data"},useSearchForm:!1,showTableSetting:!0,showIndexColumn:!0,bordered:!0,actionColumn:{width:150,title:"操作",dataIndex:"action"}}),u=()=>{a.value?(l.value.start_time=a.value[0],l.value.end_time=a.value[1]):(l.value.start_time="",l.value.end_time=""),d()},i=s=>{l.value.tabtag_id=s==0?void 0:s,d()},p=()=>{f(!0,{isUpdate:!1,record:{foldId:l.value.tabtag_id}})},B=s=>{f(!0,{record:s,isUpdate:!0})},M=s=>y(this,null,function*(){yield K({id:s.id}),d()}),P=()=>{d()};return(s,m)=>(S(),F(e(q),{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:n(()=>[o(L,{class:"w-1/4 xl:w-1/5",onSelect:i}),I("div",X,[I("div",ee,[o(e(C),{type:"primary",onClick:p,class:"mr-4"},{default:n(()=>m[2]||(m[2]=[T(" 自定义标签 ")])),_:1}),o(e(O),{layout:"inline",class:"float-right"},{default:n(()=>[o(e(v),null,{default:n(()=>[o(e(k),null,{default:n(()=>[o(e(W),{value:a.value,"onUpdate:value":m[0]||(m[0]=c=>a.value=c),presets:e(Y),"value-format":"YYYY-MM-DD",allowClear:""},null,8,["value","presets"])]),_:1})]),_:1}),o(e(v),null,{default:n(()=>[o(e(k),null,{default:n(()=>[o(e(Z),{value:e(l).keyword,"onUpdate:value":m[1]||(m[1]=c=>e(l).keyword=c),allowClear:"",placeholder:"搜索标签名称"},null,8,["value"])]),_:1})]),_:1}),o(e(v),null,{default:n(()=>[o(e(C),{type:"primary",onClick:u,icon:J(e(j))},{default:n(()=>m[3]||(m[3]=[T("查询")])),_:1},8,["icon"])]),_:1})]),_:1})]),o(e(U),{onRegister:e(_),searchInfo:s.searchInfo},{bodyCell:n(({column:c,record:h})=>[c.key==="action"?(S(),F(e(V),{key:0,actions:[{label:"编辑",onClick:B.bind(null,h)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:M.bind(null,h)}}]},null,8,["actions"])):Q("",!0)]),_:1},8,["onRegister","searchInfo"])]),o(G,{onRegister:e(t),onSuccess:P},null,8,["onRegister"])]),_:1}))}});export{Se as default};
