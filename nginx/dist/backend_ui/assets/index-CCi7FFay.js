import{f as B,X as V,aB as F}from"./entry/index-gwXb_KLU-1735894345864.js";import{aO as x,bo as m,bp as P,ab as M,aZ as Z,Z as A,aa as T,aQ as O,bq as q}from"./antd-DuSlDOy9.js";import{d as R,f as z,c as N,u as a,w as E,Z as s,a4 as f,a5 as l,_ as u,a7 as S,k as c,$ as C,G as L,a3 as g,a8 as w,F as $,a0 as I}from"./vue-7EN2lk9e.js";const b=[{key:"1",name:"通知",list:[]},{key:"2",name:"消息",list:[]},{key:"3",name:"待办",list:[]}],G={class:"title"},Q={key:0,class:"extra"},X={key:1},j={key:0,class:"description"},H={class:"datetime"},J=R({__name:"NoticeList",props:{list:{type:Array,default:()=>[]},pageSize:{type:[Boolean,Number],default:5},currentPage:{type:Number,default:1},titleRows:{type:Number,default:1},descRows:{type:Number,default:2},onTitleClick:{type:Function}},emits:["update:currentPage"],setup(o,{emit:y}){const i=o,_=y,{prefixCls:k}=B("header-notify-list"),r=z(i.currentPage||1),v=N(()=>{const{pageSize:t,list:p}=i;if(t===!1)return[];let e=x(t)?t:5;return p.slice(e*(a(r)-1),e*a(r))});E(()=>i.currentPage,t=>{r.value=t});const n=N(()=>{const{list:t,pageSize:p}=i,e=x(p)?p:Number(p)&&5;return e>0&&t&&t.length>e?{total:t.length,pageSize:e,current:a(r),onChange(h){r.value=h,_("update:currentPage",h)}}:!1});function d(t){i.onTitleClick&&i.onTitleClick(t)}return(t,p)=>(s(),f(a(m),{class:I(a(k)),bordered:"",pagination:n.value},{default:l(()=>[(s(!0),u($,null,S(v.value,e=>(s(),f(a(m).Item,{key:e.id,class:"list-item"},{default:l(()=>[c(a(m).Item.Meta,null,{title:l(()=>[C("div",G,[c(a(P).Paragraph,{onClick:h=>d(e),delete:!!e.titleDelete,ellipsis:o.titleRows&&o.titleRows>0?{rows:o.titleRows,tooltip:!!e.title}:!1,content:e.title},null,8,["onClick","delete","ellipsis","content"]),e.extra?(s(),u("div",Q,[c(a(M),{class:"tag",color:e.color},{default:l(()=>[L(g(e.extra),1)]),_:2},1032,["color"])])):w("",!0)])]),avatar:l(()=>[e.avatar?(s(),f(a(Z),{key:0,class:"avatar",src:e.avatar},null,8,["src"])):(s(),u("span",X,g(e.avatar),1))]),description:l(()=>[C("div",null,[e.description?(s(),u("div",j,[c(a(P).Paragraph,{ellipsis:o.descRows&&o.descRows>0?{rows:o.descRows,tooltip:!!e.description}:!1,content:e.description},null,8,["ellipsis","content"])])):w("",!0),C("div",H,g(e.datetime),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["class","pagination"]))}}),D=V(J,[["__scopeId","data-v-cff26da6"]]),K={key:0},ee=R({__name:"index",setup(o){const{prefixCls:y}=B("header-notify"),{createMessage:i}=F(),_=z(b),k={},r=N(()=>{let n=0;for(let d=0;d<b.length;d++)n+=b[d].list.length;return n});function v(n){i.success("你点击了通知，ID="+n.id),n.titleDelete=!n.titleDelete}return(n,d)=>(s(),u("div",{class:I(a(y))},[c(a(A),{title:"",trigger:"click",overlayClassName:`${a(y)}__overlay`},{content:l(()=>[c(a(T),null,{default:l(()=>[(s(!0),u($,null,S(_.value,t=>(s(),f(a(T).TabPane,{key:t.key},{tab:l(()=>[L(g(t.name)+" ",1),t.list.length!==0?(s(),u("span",K,"("+g(t.list.length)+")",1)):w("",!0)]),default:l(()=>[t.key==="1"?(s(),f(D,{key:0,list:t.list,onTitleClick:v},null,8,["list"])):(s(),f(D,{key:1,list:t.list},null,8,["list"]))]),_:2},1024))),128))]),_:1})]),default:l(()=>[c(a(O),{count:r.value,dot:"",numberStyle:k},{default:l(()=>[c(a(q))]),_:1},8,["count"])]),_:1},8,["overlayClassName"])],2))}});export{ee as default};
