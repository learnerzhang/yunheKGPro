var S=Object.defineProperty;var b=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var C=(o,t,e)=>t in o?S(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,f=(o,t)=>{for(var e in t||(t={}))B.call(t,e)&&C(o,e,t[e]);if(b)for(var e of b(t))F.call(t,e)&&C(o,e,t[e]);return o};var _=(o,t,e)=>new Promise((p,n)=>{var c=a=>{try{s(e.next(a))}catch(l){n(l)}},m=a=>{try{s(e.throw(a))}catch(l){n(l)}},s=a=>a.done?p(a.value):Promise.resolve(a.value).then(c,m);s((e=e.apply(o,t)).next())});import{u as N,_ as P}from"./useTable-CZJo2ynb.js";import"./TableImg.vue_vue_type_style_index_0_lang-J3ZARUD7.js";import{_ as V}from"./BasicForm.vue_vue_type_style_index_0_lang-Cztz7x8L.js";import{an as $}from"./entry/index-BcL7-Cog-1735891856356.js";import{P as I}from"./index-Dc6KXk-k.js";import{d as M}from"./task-DcEDGTPl.js";import{u as q}from"./index-CfGFDaHn.js";import{_ as v}from"./CreateUpdateModal.vue_vue_type_script_setup_true_lang-CG1PqAVe.js";import{c as D}from"./auto.data-Dv4FHeTE.js";import{d as H,Y as U,f as E,u as i,Z as k,a4 as y,a5 as h,$ as x,k as g,G,a8 as K}from"./vue-7EN2lk9e.js";import"./useForm-D6frmkhD.js";import"./FormBorder-EsrxF1hX.js";import"./antd-DuSlDOy9.js";import"./sortable.esm-BEDva30o.js";import"./onMountedOrActivated-8STL9zTa.js";import"./useWindowSizeFn-BG4Rc7k1.js";import"./index-MTdn1QqL.js";import"./useSortable-DorIa95B.js";import"./download-CffIuy2i.js";import"./index-Csyp8HpR.js";import"./copyTextToClipboard-CeRVlT3D.js";import"./useContentViewHeight-DJ0myx8Z.js";import"./index-BX9C0oMS.js";import"./file-GySG776O.js";const W={class:"p-4"},Y={class:"bg-light-50 p-4 mb-4 h-16"},he=H({name:"KgProductImportComponent",__name:"index",setup(o){const t=U();let e=E({taskType:1});const[p,{openModal:n}]=q(),[c,{reload:m}]=N({title:"图谱列表",columns:D,useSearchForm:!1,showTableSetting:!0,bordered:!0,showIndexColumn:!0,beforeFetch:r=>f(f({},r),i(e)),fetchSetting:{listField:"data"},actionColumn:{width:150,title:"操作",dataIndex:"action",fixed:"right"}});function s(){n(!0,{isUpdate:!1})}function a(r){n(!0,{record:r,isUpdate:!0})}function l(r){return _(this,null,function*(){yield M({id:r.id}),m()})}function T(r){return _(this,null,function*(){t.push({path:"/graph-manage/product/auto-process",query:{id:r.id}})})}function w(){m()}return(r,d)=>(k(),y(i(I),{dense:"",contentFullHeight:"",fixedHeight:""},{default:h(()=>[x("div",W,[x("div",Y,[g(i($),{type:"primary",onClick:s},{default:h(()=>d[0]||(d[0]=[G(" 新增图谱 ")])),_:1})]),g(i(P),{onRegister:i(c)},{bodyCell:h(({column:R,record:u})=>[R.key==="action"?(k(),y(i(V),{key:0,actions:[{label:"详情",onClick:T.bind(null,u)},{label:"编辑",onClick:a.bind(null,u)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:l.bind(null,u)}}]},null,8,["actions"])):K("",!0)]),_:1},8,["onRegister"]),g(v,{onRegister:i(p),onSuccess:w},null,8,["onRegister"])])]),_:1}))}});export{he as default};
