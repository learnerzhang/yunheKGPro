var U=Object.defineProperty;var y=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var F=(s,t,a)=>t in s?U(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,h=(s,t)=>{for(var a in t||(t={}))I.call(t,a)&&F(s,a,t[a]);if(y)for(var a of y(t))N.call(t,a)&&F(s,a,t[a]);return s};var f=(s,t,a)=>new Promise((b,p)=>{var c=i=>{try{u(a.next(i))}catch(m){p(m)}},v=i=>{try{u(a.throw(i))}catch(m){p(m)}},u=i=>i.done?b(i.value):Promise.resolve(i.value).then(c,v);u((a=a.apply(s,t)).next())});import{P as V}from"./index-Dc6KXk-k.js";import{u as $,_ as A}from"./useTable-CZJo2ynb.js";import"./TableImg.vue_vue_type_style_index_0_lang-J3ZARUD7.js";import{_ as H}from"./BasicForm.vue_vue_type_style_index_0_lang-Cztz7x8L.js";import{an as w}from"./entry/index-BcL7-Cog-1735891856356.js";import{F as C}from"./FormBorder-EsrxF1hX.js";import{f as L,h as W,i as j}from"./model-Cj2hWa7P.js";import{u as q}from"./index-CfGFDaHn.js";import{c as D,s as E,m as G,_ as Q}from"./CreateUpdateModal.vue_vue_type_script_setup_true_lang-CiCZxx8n.js";import{ae as Z,af as g,Q as S,A as z,S as J,j as K}from"./antd-DuSlDOy9.js";import{d as X,f as x,u as e,Z as M,a4 as k,a5 as n,$ as O,k as o,G as B,l as Y,a8 as ee}from"./vue-7EN2lk9e.js";import"./useContentViewHeight-DJ0myx8Z.js";import"./useWindowSizeFn-BG4Rc7k1.js";import"./onMountedOrActivated-8STL9zTa.js";import"./useForm-D6frmkhD.js";import"./sortable.esm-BEDva30o.js";import"./index-MTdn1QqL.js";import"./useSortable-DorIa95B.js";import"./download-CffIuy2i.js";import"./index-Csyp8HpR.js";import"./copyTextToClipboard-CeRVlT3D.js";const te={class:"p-4"},ae={class:"bg-light-50 p-4 mb-4 h-16"},xe=X({name:"RepertoireManagementComponent",__name:"index",setup(s){let t=x({function:void 0,name:"",activate:void 0});const a=x([]);f(this,null,function*(){const r=(yield W())||[];a.value=r.map(l=>({label:l,value:l}))});const[p,{openModal:c}]=q(),[v,{reload:u}]=$({title:"模型列表",api:L,columns:D,formConfig:{labelWidth:20,schemas:E,rowProps:{gutter:20}},fetchSetting:{listField:"data"},useSearchForm:!1,showTableSetting:!0,bordered:!0,showIndexColumn:!1,beforeFetch:r=>h(h({},r),e(t)),actionColumn:{width:120,title:"操作",dataIndex:"action",fixed:"right"}});function i(){c(!0,{isUpdate:!1,modelFunctionOpts:a.value})}function m(r){c(!0,{record:r,modelFunctionOpts:a.value,isUpdate:!0})}function P(r){return f(this,null,function*(){yield j({mid:r.id}),K.success("删除模型成功"),u()})}const R=()=>f(this,null,function*(){u()});function T(){u()}return(r,l)=>(M(),k(e(V),{dense:"",contentFullHeight:"",fixedHeight:""},{default:n(()=>[O("div",te,[O("div",ae,[o(e(w),{type:"primary",onClick:i},{default:n(()=>l[3]||(l[3]=[B(" 新增模型 ")])),_:1}),o(e(Z),{layout:"inline",class:"float-right"},{default:n(()=>[o(e(g),null,{default:n(()=>[o(e(C),null,{default:n(()=>[o(e(S),{value:e(t).function,"onUpdate:value":l[0]||(l[0]=d=>e(t).function=d),class:"!w-50",options:a.value,allowClear:"",placeholder:"选择模型能力"},null,8,["value","options"])]),_:1})]),_:1}),o(e(g),null,{default:n(()=>[o(e(C),null,{default:n(()=>[o(e(S),{value:e(t).activate,"onUpdate:value":l[1]||(l[1]=d=>e(t).activate=d),class:"!w-50",options:e(G),allowClear:"",placeholder:"选择是否可用"},null,8,["value","options"])]),_:1})]),_:1}),o(e(g),null,{default:n(()=>[o(e(C),null,{default:n(()=>[o(e(z),{value:e(t).name,"onUpdate:value":l[2]||(l[2]=d=>e(t).name=d),allowClear:"",placeholder:"搜索模型名称"},null,8,["value"])]),_:1})]),_:1}),o(e(g),null,{default:n(()=>[o(e(w),{type:"primary",onClick:R,icon:Y(e(J))},{default:n(()=>l[4]||(l[4]=[B("查询")])),_:1},8,["icon"])]),_:1})]),_:1})]),o(e(A),{onRegister:e(v)},{bodyCell:n(({column:d,record:_})=>[d.key==="action"?(M(),k(e(H),{key:0,actions:[{label:"编辑",disabled:_.activate==1,onClick:m.bind(null,_)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:P.bind(null,_)}}]},null,8,["actions"])):ee("",!0)]),_:1},8,["onRegister"]),o(Q,{onRegister:e(p),onSuccess:T},null,8,["onRegister"])])]),_:1}))}});export{xe as default};
