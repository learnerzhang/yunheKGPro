var B=Object.defineProperty;var y=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var C=(o,a,e)=>a in o?B(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,h=(o,a)=>{for(var e in a||(a={}))v.call(a,e)&&C(o,e,a[e]);if(y)for(var e of y(a))M.call(a,e)&&C(o,e,a[e]);return o};var b=(o,a,e)=>new Promise((m,c)=>{var d=r=>{try{p(e.next(r))}catch(u){c(u)}},f=r=>{try{p(e.throw(r))}catch(u){c(u)}},p=r=>r.done?m(r.value):Promise.resolve(r.value).then(d,f);p((e=e.apply(o,a)).next())});import{u as N,_ as P}from"./useTable-BldcMn6n.js";import"./TableImg.vue_vue_type_style_index_0_lang-2oS39uGR.js";import{_ as T}from"./BasicForm.vue_vue_type_style_index_0_lang-qpF-DMKT.js";import{an as k}from"./entry/index-B-McypeI-1739345778478.js";import{F as V}from"./FormBorder-BUeDstEP.js";import{r as $,s as U}from"./graph-DcHcNpwl.js";import{P as H}from"./index-C7IcOeO2.js";import{u as K}from"./index-dXxTZxnK.js";import{c as q,_ as A}from"./CreateUpdateModal.vue_vue_type_script_setup_true_lang-CrPdbmYI.js";import{ae as D,af as w,A as E,S as G}from"./antd-DuSlDOy9.js";import{d as L,f as O,u as t,Z as F,a4 as S,a5 as s,$ as x,k as n,G as I,l as W,a8 as Z}from"./vue-7EN2lk9e.js";import"./useForm-Hn6EoxrV.js";import"./sortable.esm-BEDva30o.js";import"./onMountedOrActivated-8STL9zTa.js";import"./useWindowSizeFn-B30U4ulB.js";import"./index-BlCAdtVI.js";import"./useSortable-BZ0xEDrO.js";import"./download-CCBYjG8C.js";import"./index-Czo0YvQK.js";import"./copyTextToClipboard-CeRVlT3D.js";import"./useContentViewHeight-B3Yt78Z4.js";const j={class:"p-4"},z={class:"bg-light-50 p-4 mb-4 h-16"},ye=L({name:"RelationManageKgComponent",__name:"index",setup(o){const[a,{openModal:e}]=K();let m=O({keyword:""});const[c,{reload:d}]=N({title:"关系列表",api:$,rowKey:"id",columns:q,beforeFetch:l=>h(h({},l),t(m)),fetchSetting:{listField:"data"},useSearchForm:!1,showTableSetting:!0,showIndexColumn:!0,bordered:!0,actionColumn:{width:150,title:"操作",dataIndex:"action"}}),f=()=>{d()},p=()=>{e(!0,{isUpdate:!1})},r=l=>{e(!0,{record:l,isUpdate:!0})},u=l=>b(this,null,function*(){yield U({rid:l.id}),d()}),R=()=>{d()};return(l,i)=>(F(),S(t(H),{dense:"",contentFullHeight:"",fixedHeight:""},{default:s(()=>[x("div",j,[x("div",z,[n(t(k),{type:"primary",onClick:p,class:"mr-4"},{default:s(()=>i[1]||(i[1]=[I(" 新建关系 ")])),_:1}),n(t(D),{layout:"inline",class:"float-right"},{default:s(()=>[n(t(w),null,{default:s(()=>[n(t(V),null,{default:s(()=>[n(t(E),{value:t(m).keyword,"onUpdate:value":i[0]||(i[0]=_=>t(m).keyword=_),allowClear:"",placeholder:"按关系名称检索"},null,8,["value"])]),_:1})]),_:1}),n(t(w),null,{default:s(()=>[n(t(k),{type:"primary",onClick:f,icon:W(t(G))},{default:s(()=>i[2]||(i[2]=[I("查询")])),_:1},8,["icon"])]),_:1})]),_:1})]),n(t(P),{onRegister:t(c),searchInfo:l.searchInfo},{bodyCell:s(({column:_,record:g})=>[_.key==="action"?(F(),S(t(T),{key:0,actions:[{label:"编辑",onClick:r.bind(null,g)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:u.bind(null,g)}}]},null,8,["actions"])):Z("",!0)]),_:1},8,["onRegister","searchInfo"])]),n(A,{onRegister:t(a),onSuccess:R},null,8,["onRegister"])]),_:1}))}});export{ye as default};
