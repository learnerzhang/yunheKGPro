var k=Object.defineProperty;var f=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var _=(o,t,e)=>t in o?k(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,u=(o,t)=>{for(var e in t||(t={}))x.call(t,e)&&_(o,e,t[e]);if(f)for(var e of f(t))w.call(t,e)&&_(o,e,t[e]);return o};var C=(o,t,e)=>new Promise((m,l)=>{var c=a=>{try{n(e.next(a))}catch(r){l(r)}},p=a=>{try{n(e.throw(a))}catch(r){l(r)}},n=a=>a.done?m(a.value):Promise.resolve(a.value).then(c,p);n((e=e.apply(o,t)).next())});import{v as F,s as R}from"./temp-BXVrim_O.js";import{p as S}from"./temp.data-C0M5qshO.js";import{c as T}from"./entry/index-B-McypeI-1739345778478.js";import{u as B,_ as M}from"./useTable-BldcMn6n.js";import"./TableImg.vue_vue_type_style_index_0_lang-2oS39uGR.js";import{_ as P}from"./BasicForm.vue_vue_type_style_index_0_lang-qpF-DMKT.js";import{u as L}from"./index-dXxTZxnK.js";import{_ as $}from"./CreateUpdateConditionModal.vue_vue_type_script_setup_true_lang-B7p__d3W.js";import{d as q,u as i,Z as b,_ as E,k as g,a5 as I,a4 as N,a8 as V,F as j}from"./vue-7EN2lk9e.js";const J=q({name:"PlateListComponent",__name:"index",props:{queryParams:Object},setup(o,{expose:t}){const e=o;T();const m=()=>{n()},[l,{openModal:c}]=L(),[p,{reload:n}]=B({title:"板块列表",api:F,rowKey:"id",columns:S,beforeFetch:s=>u(u({},s),i(e.queryParams)),fetchSetting:{listField:"data"},useSearchForm:!1,showTableSetting:!0,showIndexColumn:!0,bordered:!0,actionColumn:{width:150,title:"操作",dataIndex:"action"}}),a=s=>{c(!0,{record:s,isUpdate:!0})},r=s=>C(this,null,function*(){yield R({id:s.id}),n()});return t({reload:n}),(s,h)=>(b(),E(j,null,[g(i(M),{onRegister:i(p)},{bodyCell:I(({column:y,record:d})=>[y.key==="action"?(b(),N(i(P),{key:0,actions:[{label:"编辑",onClick:a.bind(null,d)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:r.bind(null,d)}}]},null,8,["actions"])):V("",!0)]),_:1},8,["onRegister"]),g($,{onRegister:i(l),onSuccess:m},null,8,["onRegister"])],64))}});export{J as _};
