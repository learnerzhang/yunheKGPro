var w=Object.defineProperty;var f=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var _=(o,t,e)=>t in o?w(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,u=(o,t)=>{for(var e in t||(t={}))y.call(t,e)&&_(o,e,t[e]);if(f)for(var e of f(t))T.call(t,e)&&_(o,e,t[e]);return o};var b=(o,t,e)=>new Promise((c,r)=>{var i=n=>{try{s(e.next(n))}catch(a){r(a)}},p=n=>{try{s(e.throw(n))}catch(a){r(a)}},s=n=>n.done?c(n.value):Promise.resolve(n.value).then(i,p);s((e=e.apply(o,t)).next())});import{u as x,_ as k}from"./useTable-dUUy5G55.js";import"./TableImg.vue_vue_type_style_index_0_lang-B8XoVYjR.js";import{_ as B}from"./BasicForm.vue_vue_type_style_index_0_lang-BdxNsio9.js";import{r as F,s as L}from"./temp-BLD0anSL.js";import{g as P}from"./temp.data-CH3zx0TX.js";import{c as R}from"./entry/index-gwXb_KLU-1735894345864.js";import{d as S}from"./download-DrMjnooB.js";import{d as $,u as m,Z as h,a4 as g,a5 as q,a8 as D}from"./vue-7EN2lk9e.js";const Z=$({name:"TempListComponent",__name:"index",props:{queryParams:Object},setup(o,{expose:t}){const e=o,c=R(),[r,{reload:i}]=x({title:"预案信息",api:F,rowKey:"id",columns:P,beforeFetch:a=>u(u({},a),m(e.queryParams)),fetchSetting:{listField:"data"},useSearchForm:!1,showTableSetting:!0,showIndexColumn:!0,bordered:!0,actionColumn:{width:150,title:"操作",dataIndex:"action"}}),p=a=>{const{cid:l}=a;c(`/temp-manage/temp-edit?${l?"cid="+l:""}`)},s=a=>{S({fileName:a.name,url:a.filepath})},n=a=>b(this,null,function*(){yield L({id:a.id}),i()});return t({reload:i}),(a,l)=>(h(),g(m(k),{onRegister:m(r)},{bodyCell:q(({column:C,record:d})=>[C.key==="action"?(h(),g(m(B),{key:0,actions:[{label:"下载",onClick:s.bind(null,d)},{label:"更新",onClick:p.bind(null,d)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:n.bind(null,d)}}]},null,8,["actions"])):D("",!0)]),_:1},8,["onRegister"]))}});export{Z as _};
