var S=Object.defineProperty;var C=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var b=(o,t,e)=>t in o?S(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,_=(o,t)=>{for(var e in t||(t={}))T.call(t,e)&&b(o,e,t[e]);if(C)for(var e of C(t))P.call(t,e)&&b(o,e,t[e]);return o};var x=(o,t,e)=>new Promise((m,l)=>{var d=a=>{try{s(e.next(a))}catch(r){l(r)}},p=a=>{try{s(e.throw(a))}catch(r){l(r)}},s=a=>a.done?m(a.value):Promise.resolve(a.value).then(d,p);s((e=e.apply(o,t)).next())});import{u as R,_ as F}from"./useTable-BldcMn6n.js";import"./TableImg.vue_vue_type_style_index_0_lang-2oS39uGR.js";import{_ as $}from"./BasicForm.vue_vue_type_style_index_0_lang-qpF-DMKT.js";import{r as B,s as N}from"./temp-BXVrim_O.js";import{P as V}from"./index-C7IcOeO2.js";import{t as q}from"./temp.data-C0M5qshO.js";import{c as v}from"./entry/index-B-McypeI-1739345778478.js";import{d as D,f as y,u as i,Z as w,a4 as k,a5 as c,$ as h,k as G,a8 as H,a3 as I}from"./vue-7EN2lk9e.js";const K={class:"w-100%"},L={style:{margin:"0 auto"}},Q=D({name:"PlanGenerateComponent",__name:"index",props:{queryParams:Object},setup(o,{expose:t}){const e=v();y([]);const m=o,l=y([]),d=({keys:n})=>{l.value=n},[p,{reload:s}]=R({title:"模板信息",api:B,rowKey:"id",columns:q,beforeFetch:n=>_(_({},n),i(m.queryParams)),fetchSetting:{listField:"data"},useSearchForm:!1,showTableSetting:!0,showIndexColumn:!0,bordered:!0,rowSelection:{type:"checkbox"},actionColumn:{width:150,title:"操作",dataIndex:"action"}}),a=n=>{e(`/temp-manage/upload?id=${n.id}`)},r=n=>x(this,null,function*(){yield N({id:n.id}),s()});return t({reload:s}),(n,u)=>(w(),k(i(V),{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:c(()=>[h("div",K,[G(i(F),{onRegister:i(p),onSelectionChange:d},{bodyCell:c(({column:f,record:g})=>[f.key==="action"?(w(),k(i($),{key:0,actions:[{label:"更新",onClick:a.bind(null,g)},{label:"删除",color:"error",popConfirm:{title:"是否确认删除",placement:"left",confirm:r.bind(null,g)}}]},null,8,["actions"])):H("",!0)]),expandedRowRender:c(({record:f})=>[h("p",L,I(f.kg_business),1)]),expandColumnTitle:c(()=>u[0]||(u[0]=[h("span",{style:{color:"red"}},null,-1)])),_:1},8,["onRegister"])])]),_:1}))}});export{Q as _};
