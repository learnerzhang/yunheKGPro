import{C as _,_ as k,u as C,r as y,a as V,o as M,b as l,c as P,d as h,e as a,f as s,w as o,g as b,E as U}from"./index-e43f0123.js";const x=`MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY
7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN
PuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA
kM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow
cSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv
DQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh
YhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3
UP8iWi1Qw0Y=`,K=c=>{const r=x;return _.AES.encrypt(c,r).toString()},B=c=>{const r=x;return _.AES.decrypt(c,r).toString(_.enc.Utf8)};const D={class:"login"},F={class:"main"},Y={class:"center"},H={class:"content"},q={class:"flex"},Q={class:"flex items-center w-100% justify-end"},R={__name:"login",setup(c){const r=C(),f=y(),I={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},u=y(!1),t=V({username:"",password:"",systemId:""}),v=()=>{f.value.validate(p=>{if(p){if(u.value){localStorage.setItem("username",t.username);const e=K(t.password);localStorage.setItem("encryptedPassword",e),localStorage.setItem("rememberMe","true")}else localStorage.removeItem("username"),localStorage.removeItem("encryptedPassword"),localStorage.setItem("rememberMe","false");t.systemId==="1"?r.push({path:"/search"}):t.systemId==="2"?r.push({path:"/smart"}):r.push({path:"/login"})}else return U.error("表单验证失败，请检查输入"),!1})};return M(()=>{const p=localStorage.getItem("username"),e=localStorage.getItem("rememberMe"),d=localStorage.getItem("encryptedPassword");if(e==="true"){if(t.username=p||"",d){const i=B(d);t.password=i}u.value=!0}}),(p,e)=>{const d=l("el-icon"),i=l("el-option"),w=l("el-select"),m=l("el-form-item"),g=l("el-input"),A=l("el-checkbox"),S=l("el-button"),E=l("el-form");return P(),h("div",D,[a("div",F,[a("div",Y,[e[8]||(e[8]=a("div",{class:"title"},null,-1)),a("div",H,[s(E,{model:t,rules:I,ref_key:"loginFormRef",ref:f},{default:o(()=>[s(m,{label:"",prop:"systemId"},{default:o(()=>[s(w,{modelValue:t.systemId,"onUpdate:modelValue":e[0]||(e[0]=n=>t.systemId=n),class:"select",filterable:"",size:"default"},{prefix:o(()=>[a("span",q,[s(d,{class:"el-icon-change"})])]),default:o(()=>[s(i,{label:"知识管理平台",value:"1"}),s(i,{label:"知识库门户",value:"2"})]),_:1},8,["modelValue"])]),_:1}),s(m,{label:"",prop:"username"},{default:o(()=>[s(g,{modelValue:t.username,"onUpdate:modelValue":e[1]||(e[1]=n=>t.username=n),placeholder:"请输入用户名",class:"input"},{prefix:o(()=>[s(d,{class:"el-icon-user"})]),_:1},8,["modelValue"])]),_:1}),s(m,{label:"",prop:"password"},{default:o(()=>[s(g,{modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=n=>t.password=n),placeholder:"请输入密码",type:"password",class:"input"},{prefix:o(()=>[s(d,{class:"el-icon-pass"})]),_:1},8,["modelValue"])]),_:1}),s(m,{label:""},{default:o(()=>[a("div",Q,[s(A,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=n=>u.value=n),disabled:!1},{default:o(()=>e[4]||(e[4]=[b("记住密码")])),_:1},8,["modelValue"]),e[5]||(e[5]=a("span",{class:"checkbox-item"},null,-1)),e[6]||(e[6]=a("span",{class:"text-#fff"},"忘记密码",-1))])]),_:1}),s(m,{label:"",prop:""},{default:o(()=>[s(S,{class:"btnLogin",type:"primary",onClick:v},{default:o(()=>e[7]||(e[7]=[b("登录")])),_:1})]),_:1})]),_:1},8,["model"])])])])])}}},Z=k(R,[["__scopeId","data-v-c23a3960"]]);export{Z as default};
