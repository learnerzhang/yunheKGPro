import{T as g,c as h}from"./index-a4ed502b.js";import{g as y}from"./base64-ae67ffac.js";import{_ as f,u as x,r as s,o as p,b as I,c as l,d as i,f as n,e as m,F as S,i as w,t as u,E as $,A as b,j as L,n as C,m as k}from"./index-259776b5.js";import"./index-3f65e8d4.js";const N={class:"article-box bg-white w-100% h-100%"},O=["onClick"],j={__name:"articleList",setup(_){x();const e=s([]);s(!1);const o=async()=>{const c={docid:JSON.parse(localStorage.getItem("artile")).id};try{const a=await h(c);e.value=a}catch(a){console.log(a,"dtadatata")}},r=t=>{let c=`http://192.168.2.182:8000${t.filepath}`;if(t){localStorage.getItem("artile")&&localStorage.removeItem("artile");let a={id:t.id,url:"http://192.168.2.182:8012/onlinePreview?url="+encodeURIComponent(y.encode(c))};localStorage.setItem("artile",JSON.stringify(a)),window.location.reload()}};return p(()=>{localStorage.getItem("smartKey")||o()}),(t,c)=>{const a=I("el-divider");return l(),i("div",N,[n(g,{label:"相关文章推荐"}),n(a),m("ul",null,[(l(!0),i(S,null,w(e.value,(d,v)=>(l(),i("li",{key:d.title,onClick:F=>r(d)},u(v+1)+"、 "+u(d.title),9,O))),128))])])}}},B=f(j,[["__scopeId","data-v-2ea1d5ff"]]);const D={name:"IframeComponent",props:{src:{type:String,required:!0},iframeStyle:{type:Object,default:()=>({})}},setup(_){const e=s(null),o=s(!1);let r=s(null);return p(()=>{if(localStorage.getItem("artile")){let t=JSON.parse(localStorage.getItem("artile"));r.value=t.url}e.value&&(o.value=!0,e.value.addEventListener("load",()=>{try{}catch(t){$.error(t)}finally{o.value=!1}}))}),{iframeRef:e,iframeUrl:r,iframeLoading:o}}},E={class:"ifram-box"},K=["src"];function R(_,e,o,r,t,c){const a=b("loading");return L((l(),i("div",E,[m("iframe",{src:r.iframeUrl,ref:"iframeRef",style:{width:"98%",height:"99%",border:"1px solid #ccc",margin:"0 20px"}},null,8,K)])),[[a,r.iframeLoading]])}const J=f(D,[["render",R],["__scopeId","data-v-90f8c05a"]]);const U={class:"pdf-container w-100% h-100% flex"},V={key:0,class:"w-352px h-470px related mr-15px"},A={__name:"pdf",setup(_){const e=s(!0);return p(()=>{localStorage.getItem("smartKey")?e.value=!1:(e.value=!0,localStorage.removeItem("smartKey"))}),(o,r)=>(l(),i("div",U,[m("div",{class:C(e.value?"pdf-box":"w-100%")},[n(J)],2),e.value?(l(),i("div",V,[n(B)])):k("",!0)]))}},P=f(A,[["__scopeId","data-v-47505477"]]);export{P as default};
