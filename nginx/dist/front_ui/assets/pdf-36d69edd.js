import{T as y,c as x}from"./index-d2881d8b.js";import{_ as u,u as S,r as i,o as v,b as I,j as g,v as w,c,d as n,f as _,e as d,F as $,i as b,t as m,E as L,A as C}from"./index-5ec8344c.js";import{g as k}from"./base64-ae67ffac.js";import"./index-8a07fa20.js";const N={class:"article-box bg-white w-100% h-100%"},O=["onClick"],j={__name:"articleList",setup(p){S();const e=i([]),t=i(!1),a=async()=>{t.value=!0;const l={docid:JSON.parse(localStorage.getItem("artile")).id};try{const r=await x(l);e.value=r}catch(r){console.log(r,"dtadatata")}},o=s=>{let l=`http://192.168.2.182:8000${s.filepath}`;if(s){localStorage.getItem("artile")&&localStorage.removeItem("artile");let r={id:s.id,url:"http://192.168.2.182:8012/onlinePreview?url="+encodeURIComponent(k.encode(l))};localStorage.setItem("artile",JSON.stringify(r)),window.location.reload()}};return v(()=>{localStorage.getItem("smartKey")?localStorage.removeItem("smartKey"):a()}),(s,l)=>{const r=I("el-divider");return g((c(),n("div",N,[_(y,{label:"相关文章推荐"}),_(r),d("ul",null,[(c(!0),n($,null,b(e.value,(f,h)=>(c(),n("li",{key:f.title,onClick:T=>o(f)},m(h+1)+"、 "+m(f.title),9,O))),128))])],512)),[[w,t.value]])}}},B=u(j,[["__scopeId","data-v-54eca8df"]]);const D={name:"IframeComponent",props:{src:{type:String,required:!0},iframeStyle:{type:Object,default:()=>({})}},setup(p){const e=i(null),t=i(!1);let a=i(null);return v(()=>{if(localStorage.getItem("artile")){let o=JSON.parse(localStorage.getItem("artile"));a.value=o.url}e.value&&(t.value=!0,e.value.addEventListener("load",()=>{try{}catch(o){L.error(o)}finally{t.value=!1}}))}),{iframeRef:e,iframeUrl:a,iframeLoading:t}}},E={class:"ifram-box"},R=["src"];function J(p,e,t,a,o,s){const l=C("loading");return g((c(),n("div",E,[d("iframe",{src:a.iframeUrl,ref:"iframeRef",style:{width:"98%",height:"99%",border:"1px solid #ccc",margin:"0 20px"}},null,8,R)])),[[l,a.iframeLoading]])}const K=u(D,[["render",J],["__scopeId","data-v-90f8c05a"]]);const U={class:"pdf-container w-100% h-100% flex"},A={class:"pdf-box"},F={class:"w-352px h-470px related mr-15px"},M={__name:"pdf",setup(p){return(e,t)=>(c(),n("div",U,[d("div",A,[_(K)]),d("div",F,[_(B)])]))}},G=u(M,[["__scopeId","data-v-f0606e6a"]]);export{G as default};
