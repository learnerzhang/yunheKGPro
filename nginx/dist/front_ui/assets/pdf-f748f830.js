import{T as g,f as h}from"./index-5c03c70c.js";import{g as y}from"./base64-ae67ffac.js";import{_ as f,u as x,r as s,o as p,b as I,c as l,d as i,f as c,e as m,F as S,i as b,t as u,E as w,A as $,k as L,n as C,j as k}from"./index-1e331aa6.js";import"./index-b1f89694.js";const N={class:"article-box bg-white w-100% h-100%"},O=["onClick"],j={__name:"articleList",setup(_){x();const e=s([]);s(!1);const o=async()=>{const n={docid:JSON.parse(localStorage.getItem("artile")).id};try{const r=await h(n);e.value=r}catch{}},a=t=>{let n=`http://192.168.2.182:8000${t.filepath}`;if(t){localStorage.getItem("artile")&&localStorage.removeItem("artile");let r={id:t.id,url:"http://192.168.2.182:8012/onlinePreview?url="+encodeURIComponent(y.encode(n))};localStorage.setItem("artile",JSON.stringify(r)),window.location.reload()}};return p(()=>{localStorage.getItem("smartKey")||o()}),(t,n)=>{const r=I("el-divider");return l(),i("div",N,[c(g,{label:"相关文章推荐"}),c(r),m("ul",null,[(l(!0),i(S,null,b(e.value,(d,v)=>(l(),i("li",{key:d.title,onClick:F=>a(d)},u(v+1)+"、"+u(d.title),9,O))),128))])])}}},B=f(j,[["__scopeId","data-v-7f1e9499"]]);const D={name:"IframeComponent",props:{iframeStyle:{type:Object,default:()=>({})}},setup(_){const e=s(null),o=s(!1);let a=s(null);return p(()=>{if(localStorage.getItem("artile")){let t=JSON.parse(localStorage.getItem("artile"));a.value=t.url}e.value&&(o.value=!0,e.value.addEventListener("load",()=>{try{}catch(t){w.error(t)}finally{o.value=!1}}))}),{iframeRef:e,iframeUrl:a,iframeLoading:o}}},E={class:"ifram-box"},K=["src"];function R(_,e,o,a,t,n){const r=$("loading");return L((l(),i("div",E,[m("iframe",{src:a.iframeUrl,ref:"iframeRef",style:{width:"98%",height:"99%",border:"1px solid #ccc",margin:"0 20px"}},null,8,K)])),[[r,a.iframeLoading]])}const J=f(D,[["render",R],["__scopeId","data-v-b7d9f462"]]);const U={class:"pdf-container w-100% h-100% flex"},V={key:0,class:"w-352px h-470px related mr-15px"},A={__name:"pdf",setup(_){const e=s(!0);return p(()=>{localStorage.getItem("smartKey")?e.value=!1:(e.value=!0,localStorage.removeItem("smartKey"))}),(o,a)=>(l(),i("div",U,[m("div",{class:C(e.value?"pdf-box":"w-100%")},[c(J)],2),e.value?(l(),i("div",V,[c(B)])):k("",!0)]))}},q=f(A,[["__scopeId","data-v-47505477"]]);export{q as default};
